---
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation.astro';
import Footer from '../../components/Footer.astro';
import PageTracker from '../../components/PageTracker.astro';
---

<Layout title="SozialCare Platform | Care Software Labs">
    <PageTracker pageName="sozialcare-solution" pageCategory="product-detail" />
    <Navigation />

    <main>
        <section class="hero">
            <h1>SozialCare Platform</h1>
            <p>Case management for school social workers</p>
            <span class="status-badge">Piloting</span>
        </section>

        <section>
            <h2>Core Features</h2>
            <ul class="bullets">
                <li>Manage case details and follow-ups easily</li>
                <li>Real-time overviews for leadership</li>
                <li>GDPR-compliant by design</li>
                <li>Generate reports quickly</li>
                <li>Full desktop and mobile access</li>
            </ul>
        </section>

        <section>
            <h2>Who it's for</h2>
            <ul class="bullets">
                <li>School social workers: Simple, structured case management. Less effort for documentation, reports, and statistics.</li>
                <li>School leadership: Quick overview of cases, trends, and open tasks. Seamless continuity during staff changes: orderly case handover and ongoing measures remain visible.</li>
                <li>Authorities: Clear, consistent documentation. Early visibility of relevant developments.</li>
            </ul>
        </section>

        <section class="app-preview">
            <h2>App Preview</h2>
            <p class="preview-subtitle">Click on any image for a detailed view</p>
            <div class="preview-gallery">
                <div class="preview-item">
                    <div class="preview-image-container" 
                         data-image="/images/sozialcare-dashboard.png" 
                         data-caption="Dashboard with real-time insights and statistics">
                        <img src="/images/sozialcare-dashboard.png" alt="SozialCare dashboard with real-time overview and statistics" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                        <div class="preview-placeholder">
                            <div class="placeholder-icon">ðŸ“Š</div>
                            <p>Dashboard</p>
                            <small>Real-time overview</small>
                        </div>
                        <div class="preview-overlay">
                            <div class="zoom-icon expand-icon"></div>
                        </div>
                    </div>
                    <p class="preview-caption">Dashboard with real-time insights and statistics</p>
                </div>
                <div class="preview-item">
                    <div class="preview-image-container" 
                         data-image="/images/sozialcare-case-list.png" 
                         data-caption="Complete case list with filter and sorting functions">
                        <img src="/images/sozialcare-case-list.png" alt="Case list view with all active cases" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                        <div class="preview-placeholder">
                            <div class="placeholder-icon">ðŸ“‹</div>
                            <p>Case List</p>
                            <small>All cases overview</small>
                        </div>
                        <div class="preview-overlay">
                            <div class="zoom-icon expand-icon"></div>
                        </div>
                    </div>
                    <p class="preview-caption">Complete case list with filter and sorting functions</p>
                </div>
                <div class="preview-item">
                    <div class="preview-image-container" 
                         data-image="/images/sozialcare-case-details.png" 
                         data-caption="Detailed case information and documentation">
                        <img src="/images/sozialcare-case-details.png" alt="Individual case detail view" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                        <div class="preview-placeholder">
                            <div class="placeholder-icon">ðŸ‘¤</div>
                            <p>Case Details</p>
                            <small>Individual case view</small>
                        </div>
                        <div class="preview-overlay">
                            <div class="zoom-icon expand-icon"></div>
                        </div>
                    </div>
                    <p class="preview-caption">Detailed case information and documentation</p>
                </div>
                <div class="preview-item">
                    <div class="preview-image-container" 
                         data-image="/images/sozialcare-follow-ups.png" 
                         data-caption="Record follow-up conversations and manage next appointments">
                        <img src="/images/sozialcare-follow-ups.png" alt="Record follow-up conversations and manage next appointments" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                        <div class="preview-placeholder">
                            <div class="placeholder-icon">ðŸ”„</div>
                            <p>Follow-ups</p>
                            <small>Manage appointments</small>
                        </div>
                        <div class="preview-overlay">
                            <div class="zoom-icon expand-icon"></div>
                        </div>
                    </div>
                    <p class="preview-caption">Record follow-up conversations and manage next appointments</p>
                </div>
            </div>
        </section>

        <!-- Image Modal -->
        <div id="imageModal" class="modal">
            <div class="modal-content">
                <span class="modal-close">&times;</span>
                <img id="modalImage" src="" alt="" />
                <div class="modal-caption" id="modalCaption"></div>
            </div>
        </div>

        <section>
            <h2>Privacy & Trust</h2>
            <ul class="bullets">
                <li>GDPR-compliant by design with data minimization</li>
                <li>Role-based access controls</li>
                <li>German/EU hosting and encryption</li>
            </ul>
        </section>

        <section class="cta">
            <a class="button button--primary" href="mailto:hello@caresoftwarelabs.com?subject=SozialCare%20Pilot%20Program">Request pilot access</a>
            <a class="button button--secondary" href="mailto:hello@caresoftwarelabs.com?subject=SozialCare%20Demo">Schedule demo</a>
        </section>
    </main>
    
    <Footer />
</Layout>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const previewContainers = document.querySelectorAll('.preview-image-container');
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage') as HTMLImageElement;
        const modalCaption = document.getElementById('modalCaption');
        const closeBtn = document.querySelector('.modal-close');

        previewContainers.forEach(function(container) {
            container.addEventListener('click', function(this: HTMLElement) {
                const imageSrc = this.getAttribute('data-image');
                const caption = this.getAttribute('data-caption');
                if (modal && modalImg && modalCaption && imageSrc) {
                    modal.style.display = 'block';
                    modalImg.src = imageSrc;
                    modalImg.alt = caption || '';
                    modalCaption.textContent = caption || '';
                    document.body.style.overflow = 'hidden';
                }
            });
        });

        if (closeBtn) closeBtn.addEventListener('click', function() {
            if (modal) { modal.style.display = 'none'; document.body.style.overflow = 'auto'; }
        });

        if (modal) modal.addEventListener('click', function(e) {
            if (e.target === modal) { modal.style.display = 'none'; document.body.style.overflow = 'auto'; }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal && modal.style.display === 'block') {
                modal.style.display = 'none'; document.body.style.overflow = 'auto';
            }
        });
    });
</script>

<style>
    main { 
        max-width: 800px; 
        margin: 0 auto; 
        padding: 2rem 1rem; 
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        background-color: var(--color-bg-primary);
    }

    .hero {
        text-align: center;
        padding: 4rem 0 3rem 0;
    }

    h1 { 
        font-size: clamp(2.5rem, 5vw, 3.5rem);
        font-weight: 300; 
        color: var(--color-primary);
        margin: 0 0 1rem 0;
        letter-spacing: -0.02em;
    }

    .hero p { 
        font-size: clamp(1.125rem, 2.5vw, 1.5rem);
        color: var(--color-text-secondary); 
        margin: 0 0 1.5rem 0; 
        font-weight: 400;
    }

    .status-badge {
        display: inline-block;
        font-size: 0.875rem;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-weight: 500;
        background-color: #10b981;
        color: white;
    }

    h2 { 
        font-size: clamp(1.5rem, 3vw, 2rem);
        font-weight: 400;
        color: var(--color-primary);
        margin: 3rem 0 1.5rem 0; 
        text-align: center;
    }

    .bullets { 
        margin: 0 0 2rem 0; 
        padding-left: 0; 
        color: var(--color-text-secondary); 
        line-height: 1.7;
        list-style: none;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
    }

    .bullets li { 
        margin: 0.75rem 0; 
        padding-left: 1.5rem;
        position: relative;
        font-size: 1rem;
    }

    .bullets li::before {
        content: "âœ“";
        position: absolute;
        left: 0;
        color: var(--color-primary);
        font-weight: bold;
    }

    /* Platform Preview */
    .platform-preview {
        margin: 3rem 0;
    }

    /* App Preview */
    .app-preview {
        margin: 3rem 0;
    }

    .preview-subtitle {
        text-align: center;
        font-size: 0.9375rem;
        color: var(--color-text-secondary);
        margin: -1rem 0 3rem 0;
        font-style: italic;
    }

    .preview-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
    }

    .preview-item {
        background-color: var(--color-bg-secondary);
        border: 1px solid var(--color-border);
        border-radius: 12px;
        padding: 1.5rem;
        text-align: center;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .preview-item:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .preview-image-container {
        position: relative;
        width: 100%;
        height: 240px;
        margin-bottom: 1rem;
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
    }

    .preview-image-container:hover .preview-overlay {
        opacity: 1;
    }

    .preview-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
        border-radius: 8px;
    }

    .zoom-icon {
        font-size: 2rem;
        color: white;
        background-color: rgba(255, 255, 255, 0.15);
        padding: 1rem;
        border-radius: 50%;
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
    }

    .zoom-icon:hover {
        background-color: rgba(255, 255, 255, 0.25);
        transform: scale(1.1);
    }

    .expand-icon {
        position: relative;
        width: 24px;
        height: 24px;
        font-size: 0;
    }

    .expand-icon::before,
    .expand-icon::after {
        content: '';
        position: absolute;
        background-color: white;
        border-radius: 1px;
    }

    .expand-icon::before {
        width: 16px;
        height: 2px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .expand-icon::after {
        width: 2px;
        height: 16px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .preview-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .preview-placeholder {
        display: none;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-primary) 100%);
        border: 2px dashed var(--color-border);
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        color: var(--color-text-secondary);
    }

    .placeholder-icon {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        opacity: 0.6;
    }

    .preview-placeholder p {
        font-weight: 500;
        font-size: 1.125rem;
        margin: 0 0 0.25rem 0;
        color: var(--color-primary);
    }

    .preview-placeholder small {
        font-size: 0.875rem;
        opacity: 0.7;
        margin: 0;
    }

    .preview-caption {
        font-size: 0.875rem;
        color: var(--color-text-secondary);
        margin: 0;
        font-weight: 500;
        line-height: 1.4;
    }

    /* Modal Styles */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .modal-content {
        position: relative;
        margin: 2% auto;
        padding: 0;
        width: 90%;
        max-width: 1200px;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .modal-close {
        position: absolute;
        top: -40px;
        right: 0;
        color: white;
        font-size: 2rem;
        font-weight: bold;
        cursor: pointer;
        z-index: 1001;
        background-color: rgba(0, 0, 0, 0.5);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.3s ease;
    }

    .modal-close:hover {
        background-color: rgba(0, 0, 0, 0.8);
    }

    #modalImage {
        max-width: 100%;
        max-height: 80vh;
        object-fit: contain;
        border-radius: 8px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    }

    .modal-caption {
        color: white;
        text-align: center;
        padding: 1rem 0;
        font-size: 1.125rem;
        max-width: 600px;
    }

    .cta { 
        display: flex; 
        gap: 1rem; 
        margin: 4rem 0 2rem 0; 
        justify-content: center;
        flex-wrap: wrap;
    }

    .button {
        display: inline-block;
        padding: 0.75rem 1.5rem;
        border-radius: 4px;
        font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        font-weight: 500;
        text-decoration: none;
        transition: background-color 0.2s ease;
        cursor: pointer;
        border: none;
        font-size: 1rem;
    }

    .button--primary {
        background-color: var(--color-primary);
        color: white;
    }

    .button--primary:hover {
        background-color: var(--color-primary-hover);
    }

    .button--secondary {
        background-color: var(--color-bg-secondary);
        color: var(--color-text-primary);
        border: 1px solid var(--color-border);
    }

    .button--secondary:hover {
        background-color: var(--color-accent);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        main {
            padding: 1.5rem 1rem;
        }

        .hero {
            padding: 3rem 0 2rem 0;
        }

        .preview-gallery {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        
        .preview-item {
            padding: 1rem;
        }

        .preview-image-container {
            height: 200px;
        }

        .placeholder-icon {
            font-size: 2rem;
        }

        .modal-content {
            width: 95%;
            margin: 5% auto;
        }

        .modal-close {
            top: -35px;
            font-size: 1.5rem;
            width: 35px;
            height: 35px;
        }

        .zoom-icon {
            font-size: 1.5rem;
            padding: 0.75rem;
        }

        .cta {
            flex-direction: column;
            align-items: center;
        }

        .cta .button {
            width: 100%;
            max-width: 280px;
            text-align: center;
        }
    }
</style>